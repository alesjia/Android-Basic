## Https
[HTTPS详解 - 不挑食的程序员 - SegmentFault 思否](https://segmentfault.com/a/1190000011675421)
[HTTPS 原理详解 |](https://blog.upyun.com/?p=1347)
[深入揭秘HTTPS安全问题&连接建立全过程 - 知乎](https://zhuanlan.zhihu.com/p/22142170)
服务器认证：客户端知道它是在与真正的而不是伪造的服务器通话
客户端认证：服务器知道它是在与真正的而不是伪造的客户端通话
完整性：客户端和服务器的数据不会被修改
加密：客户端和服务器的对话是私密的，无需担心被窃听
效率：一个足够快的算法
普适性：基本上所有的客户端和服务器都可以支持这些协议
数字签名：用来验证报文未被伪造和篡改的校验和
数字证书：由一个可信组织验证和签发的识别信息

数字证书签发和检验的非对称密钥是CA的公钥和私钥，跟证书申请者提交的公钥无关。

### 对称加密技术
编解码算法是众所周知的，只有密钥匙唯一保密的东西
每个客户端与服务器之间进行通信都要一个保密的密钥，这样的话密钥管理会是一个大问题。第一，密钥的安全性如何保证？第二，如何管理大量的密钥？

### 非对称加密
有一个公钥，有一个私钥。
通过公钥，明文以及明文对应的密文以及RSA算法本身，也难以破解找出相对应的私钥。

### 混合加密系统和会话密钥
通过公开密钥加密技术建立起安全通信，然后再用那条安全通道产生并发送随机对称密钥，通过对称加密技术对其余的数据进行加密。

* 私钥加密，公钥解密，能够证明私钥拥有者的唯一身份，用于签名（数字证书和数字签名用的私钥是CA的私钥，不是服务器的私钥）
* 公钥加密，私钥解密，确保发送的消息。

加密解决窃听风险
数字证书用作身份识别

加密过程包括如下五步：
在开始加密通信之间，客户端和服务器有一个握手的过程
1.客户端会将自己支持的非对称加密算法，对称加密算法以及hash算法列表 以及一个随机码发送给服务器。
2.服务器会选择一个非对称加密算法，对称加密算法以及hash 还有一个随机码给客户端，其中也包括服务器端的数字证书。这个数字证书是由CA中心签发的，用来保证服务器就是服务器本身。这个数字证书包括有效期，非对称加密算法的公钥等，当然也包括使用CA私钥签发的数字签名。
3.客户端确认数字证书有效，然后生成一个新的随机数，并使用数字证书中的公钥，加密这个随机数，发给服务器
4.服务器使用自己的私钥，获取客户端发来的随机数
5.服务器和客户端根据约定的加密算法，使用前面的三个随机数，生成对话密钥，用来加密接下来的整个对话过程。

